<!DOCTYPE html>

<!--
	// ┌─────────────────────────────────────────────────────────────────────┐ \\
	// │ Expression Angler 2015                                              │ \\
	// ├─────────────────────────────────────────────────────────────────────┤ \\
	// │ HTML Page                                                           │ \\
	// ├─────────────────────────────────────────────────────────────────────┤ \\
	// │ Copyright (c) 2015 Jamie Waese & Nicholas Provart                   │ \\
	// │ University of Toronto                                               │ \\
	// └─────────────────────────────────────────────────────────────────────┘ \\
-->

<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Expression Angler 2015">
    <meta name="author" content="Jamie Waese & Nicholas Provart">
    <link rel="shortcut icon" type="image/x-icon"  href="images/barLogo.png">
    <title>Expression Angler 2015</title>

	<script src="js/jquery.min.js"></script>
	<script type="text/javascript" src="../scripts/js/artDialog.js?skin=idialog"></script>
	<script type="text/javascript" src="../scripts/js/iframeTools.js"></script>
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/navbar-static-top.css" rel="stylesheet">
    <link href="css/backToTop.css" rel="stylesheet">
    <link href="css/clearSearch.css" rel="stylesheet">
	
	
	
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script><style type="text/css"></style>
	
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body>
	
    <!-- anchor for Back to Top button -->
    <span id="linktotop"></span>
	
	
	<div id='contentSlider' style='width: 100%;
    height: 100%;
    position: absolute;
    overflow: auto;
    overflow-x: hidden;'>
		<h2 style="
		text-align: center;margin-bottom:20px
		">Find genes according to their expression pattern.</h2>
		<div id="optionHolder" style="height:90%" class="col-md-4">
			
			<!-- Nav tabs -->
			<ul class="nav nav-tabs" role="tablist" id="selectByTabList">
				<li class="active" style="width:65%">
					<a href="#byExpression" role="tab" data-toggle="tab">
						Define a custom expression pattern
					</a>
				</li >
				<li style="width:35%">
					<a href="#byId" role="tab" data-toggle="tab">
						Select by AGI ID
					</a>
				</li>
				
			</ul>
			
			<!-- Tab panes -->
			<div class="tab-content">
				<div class="tab-pane fade active in" id="byExpression" style="height: 100%;
				overflow-y: auto;overflow-x:hidden">
					
					<!--<button type="button" class="btn btn-default" data-toggle="modal" data-target="#informationModal" onclick="populateInformationModal();">Info</button>
						
					<button type="button" class="btn btn-default" data-toggle="modal" data-target="#selectionTableModal" onclick="generateSelectionTable();">View as Table</button>-->
					
					<div class="btn-group" >
						<button type="button" id="ToolbarSelectAllSamples" class="btn btn-default" style="display:none;" onclick="includeAllSamplesInSearch();">Include all</button>
						<button type="button" id="ToolbarExcludeAllSamples" class="btn btn-default" style="display:none;" onclick="excludeAllSamplesFromSearch();">Exclude all</button>
					</div>
					<!--  -->
					
					<h4>1) Select a view:</h4>
					<div style="margin-left:10px">
						<div class="btn-group" style="
						margin-bottom: 20px;
						">
							<button type="button" class="btn btn-default"  id="dropdownSelectedItem" style="width:200px;">Developmental Map</button>
							<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
								<span class="caret"></span>
								<span class="sr-only">Toggle Dropdown</span>
							</button>
							<ul id="viewSelector" class="dropdown-menu" role="menu">
								<li role="presentation"><a role="menuitem" tabindex="-1">Developmental Map</a></li>
								<li role="presentation"><a role="menuitem" tabindex="-1">Abiotic Stress</a></li>
								<li role="presentation"><a role="menuitem" tabindex="-1">Chemical Stress</a></li>
								<li class="dropdown-submenu">
									<a tabindex="-1">Tissue Specific</a>
									<ul class="dropdown-menu">
										<li role="presentation"><a role="menuitem" tabindex="-1">Embryo Development</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Guard and Mesophyll Cells</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Microgametogenesis</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Pollen Germination</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Root</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Shoot Apical Meristem</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Stem Epidermis</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Stigma and Ovaries</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Trichomes</a></li>
										<li role="presentation"><a role="menuitem" tabindex="-1">Xylem and Cork</a></li>
									</ul>
								</li>
							</ul>
						</div>	
					</div>
					<h4>2) Set values by clicking on tissue(s) or use these buttons to adjust global settings</h4>
					<div style="margin-left:10px" class="row">
						<div  class="col-md-4" style="padding-left:0px">
							<button type="button" id="ToolbarMaxButton" class="btn btn-default" style="margin-bottom:10px;display:block;white-space: normal;" onclick="maxAllTissues();">High Relative Expression For All</button>
						</div>
						<div  class="col-md-4"  style="padding-left:0px">
							<button type="button" id="ToolbarMinButton" class="btn btn-default" style="margin-bottom:10px;display:block;white-space: normal;" onclick="minAllTissues();">Low Relative Expression For All</button>
						</div>
						<div  class="col-md-4"  style="padding-left:0px">
							<button type="button" id="ToolbarResetButton" class="btn btn-default" style="margin-bottom:10px;display:block;white-space: normal;" onclick="resetAllTissues();">Reset All (exclude from search)</button>
						</div>
					</div>
					<h4>3) Limit the number of results:</h4>
					<div class="advancedOptionsHolder">
						<div id="advancedOptions" style="margin-left:10px">
							
							<div class="btn-group" data-toggle="buttons" style="margin-bottom:10px" id="matchCountSelection">
								<label class="btn btn-default active">
								<input type="radio" name="matchGroup" id="top5" value="5" checked="checked"></input> Top 5 </label>
								<label class="btn btn-default">
								<input type="radio" name="matchGroup" id="top10" value="10"></input> Top 10 </label>
								<label class="btn btn-default">
								<input type="radio" name="matchGroup" id="bottom5" value="-5"></input> Bottom 5 </label>
								<label class="btn btn-default">
								<input type="radio" name="matchGroup" id="bottom10" value="-10"></input> Bottom 10 </label>
								
							</div>
							<p>
								<input type="checkbox" name="limitResults" value="r-value" style="float:left;margin:6px;margin-right:10px"></input>
								<span class=""> Or select an r-value cutoff range:</span>
								<input type="text" id="amount" readonly style="border:0;margin-left:3px;width:60px"></input>
							</p>
							<p>
								
								<div id="r-value-slider-range" style="width:270px;"></div>
								
								
							</p>
						</div>
					</div>
					<h4>4)  
						<span class="startSearchHolder"><button type="button" id="startSearch" class="btn btn-success" style="width:225px">Search</button></span>
					</h4>	
				</div>
				<div class="tab-pane fade" id="byId" style="height: 100%;
				overflow-y: auto;">
					<h4>1) Enter an AGI ID:</h4>
					<div id='agiIdRow' style="margin-left:20px">
						<div class="btn-group">
							<input type="text" id="user_agi" class="form-control search-input" placeholder="Enter AGI ID here" onkeydown="toggleButtonAvailability();"></input>
							<div class="search-reset"></div>
							<!--<span class="input-group-btn">
								<button class="btn btn-success" id="GoButtonGeneInput" type="button" >Go!</button>
							</span>-->
							
						</div><!-- /input-group -->
						<div style="display:none"><img id="user_agi_valid_icon" src='images/incorrect.png'><span id="user_agi_valid">No AGI ID Query</span></div>
					</div><!-- /.row --> 	
					<h4>2) Limit the number of results:</h4>
					<div class="advancedOptionsHolder" style="margin-left:10px">
					</div>
					<h4>3) <span class="startSearchHolder"></span></h4>
				</div>
				
				
			</div>
			
		</div>
		<!-- ///////////////////////////////////////////////////////////////////// -->
		<div id="geneSearchHolder" style="height:90%" class="col-md-8">
			<ul class="nav nav-tabs" role="tablist" id="viewTabList">
				<li id="graphicViewLi" class="active" style="width:50%">
					<a href="#graphicView" role="tab" data-toggle="tab">
						Graphic View
					</a>
				</li>
				<li style="width:50%"  id="tableViewLi" >
					<a href="#tableView" role="tab" data-toggle="tab" onclick="generateSelectionTable();">
						Table View
					</a>
				</li>
				
			</ul>
			
			<!-- Tab panes -->
			<div class="tab-content">
				<div class="tab-pane fade active in" id="graphicView" style="height:100%;width: 100%;overflow: hidden;position: relative;">
					
					
					<!-- ///////////////////////////////////////////////////////////////////// -->
					<!-- /////////////////// Main Display Container ////////////////////////// -->
					<!-- ///////////////////////////////////////////////////////////////////// -->
					
					<!-- Advanced Options Accordian Panel -->
					<div class="panel-group" id="accordion">
						
						
						<!-- Graphic Display Panel -->
						<div id='expressionDefiner' class="text-center">  
							<!-- Display Window -->
							<div id="displayWindow" style="width:100%;position: absolute;height: 100%;">
								<!-- contents get filled dynamically -->
							</div> 
						</div>
						
						
						
						
						
						<!-- ///////////////////////////////////////////////////////////////////// -->
						<!-- Pop-up for displaying values of tissues when moused over -->
						<div id="tissue-pop-up">
							<div id="tissue-title"></div>
							<div id="tissue-value"></div>
						</div>
						
					</div>
				</div> <!-- /container -->
				
				<div class="tab-pane fade" id="tableView">
					<div id="selectionTableBody" style="height:100%;overflow-y:auto;padding: 15px;">
						<!-- contents added dynamically -->
					</div>
				</div>
			</div>
			<!-- ///////////////////////////////////////////////////////////////////// -->
			
		</div>
	</div>
	
	
	
	<!-- ///////////////////////////////////////////////////////////////////// -->
	<!-- Set Expression Level Modal Popup -->
	
	<div id="setExpressionLevelDiv" style="display:none;">
		<span style="display:none" id="setLevel-tissueName"></span>
		
		<div class="col-md-12">
			<div style="    width: 65%;
			display: inline-block;">Relative Abundance</div>
			<input id="textboxAbsolute" value="0" onclick="this.select()" onchange="updateexpressionLevelSlider(value);" style="width:33%;"></input>
		</div>
		<div class="col-md-12" style="margin-bottom:7px">
			<input id="expressionLevelSlider" type="range" class="rangesliders" name="value" value="0" min="0" max="1000" step="10" oninput="updateexpressionLevelSlider(value);" style="margin-top:7px"></input>
			<input id="originalExpressionLevelValue" type="hidden" name="originalExpressionLevelValue" value="">
		</div>
		<div class="col-md-12">
			<button class="btn btn-default col-md-12" id="maxTissueButton" onclick="maxTissue();" style="margin-bottom:5px;">High Relative Expression</button>
			<button class="btn btn-default col-md-12" id="minTissueButton" onclick="minTissue();" style="margin-bottom:5px;">Low Relative Expression</button>
			<button class="btn btn-default col-md-12" id="ModalResetButton" onclick="resetButton();">Reset</button>
		</div>
		
		<div class="col-md-12 text-center" style="margin-top: 15px;border-top: 1px solid #ccc;">
			<button class="btn btn-default col-md-12" onclick="closeCurrentTooltip(this);" style="margin-top:15px;">Close Without Saving</button>
			<button class="btn btn-default col-md-12" onclick="saveExpressionLevel();closeCurrentTooltip(this);" style="background-color:#99cc00;margin-top:5px;">Save Value</button>
			
		</div>
		&nbsp;
	</div>
	
	
	
	
	
	
	<!-- Back to Top button -->
	<a href="#0" class="cd-top">Top</a>
	
	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	
	<link rel="stylesheet" href="css/jquery-ui.css">
	<script src="js/jquery-ui.js"></script>
	
	<script src="js/bootstrap.min.js"></script>
	<script src="js/bootstrap-tooltip.js"></script>
	<script src="js/jquery.qtip.min.js"></script>
	<link rel="stylesheet" href="js/jquery.qtip.min.css">
	<script src="js/backToTop.js"></script>
	<script src="js/clearSearch.js"></script>
	
	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<script src="js/ie10-viewport-bug-workaround.js"></script>
	
	<!-- JS files for this page -->
	<script src="js/ExpressionAngler2015.js"></script>
	<script src="js/AGIautocomplete.js"></script>
	
	
</body>
</html>
